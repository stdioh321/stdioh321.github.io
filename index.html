<!DOCTYPE html>
<html ng-app="noSurf" class="menu-hide" >

    <head>
        <title>Praianos</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8" />

        <link rel="stylesheet" type="text/css" href="resources/lib/bootstrap/dist/css/bootstrap.css">
        <link rel="stylesheet" href="resources/lib/angular-chart.js/dist/angular-chart.css">
        <link rel="stylesheet" href="resources/lib/angular-carousel/dist/angular-carousel.css">
        <link rel="stylesheet" href="resources/lib/ngToast/dist/ngToast.css">
        <link rel="stylesheet" href="resources/lib/angular-bootstrap/ui-bootstrap-csp.css">


        <link rel="stylesheet" href="resources/css/style.css" >
        <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />


        <script type="text/javascript" src="resources/lib/angular/angular.js"></script>
        <script type="text/javascript" src="resources/js/locale/angular-locale_pt-br.js"></script>
        <script type="text/javascript" src="resources/lib/jquery/dist/jquery.js"></script>
        <script src="resources/lib/bootstrap/dist/js/bootstrap.js" ></script>
        <script src="resources/lib/angular-sanitize/angular-sanitize.js" ></script>
        <script src="resources/lib/angular-animate/angular-animate.js" ></script>
        <script src="resources/lib/ngToast/dist/ngToast.js" ></script>
        <script src="resources/lib/angular-bootstrap/ui-bootstrap.js" ></script>

        <script src="resources/lib/Chart.js/Chart.js"></script>   
        <script src="resources/lib/angular-chart.js/dist/angular-chart.js"></script>
        <script src="resources/lib/angular-touch/angular-touch.js" ></script>
        <script src="resources/lib/angular-carousel/dist/angular-carousel.js" ></script>
        <script src="resources/lib/hammerjs/hammer.js" ></script>


        <script type="text/javascript" src="resources/json/locais.js"></script>

        <script src="resources/js/app.js" ></script>
        <script src="resources/js/filters/filters.js" ></script>
        <script type="text/javascript" src="resources/js/controllers/noSurfCtrl.js"></script>


    </head>
    <body class="splash" ng-controller="noSurfCtrl" ng-class="{'modal-show':modalShow.value}">
        <div id="splash" class="splash-remove">

        </div> 
        <div class="loading" ng-show="loading">
            <span class="glyphicon glyphicon-refresh "></span>
        </div>
        <div class="loadError" ng-show="loadError">
            <div class="alert-danger">
                Houve um erro ao carregar os dados<br />
                Verifique seu accesso a Internet.
            </div>
        </div>

        <nav class="menu">
            <div class="col-md-12">

                <div >{{objPraiaAtual.name||'Local'}}</div>


                <div>{{atualMarine.WindChillC}}&#176;C</div>

            </div>
            <ul class="list-group" style="position: relative;">

                <li class="list-group-item">
                    <h4>
                        Escolha sua Praia
                    </h4>
                </li>
                <li class="list-group-item search-praias">
                    <input type="text" class="form-control" ng-model="busca" ng-change="buscaPraias(busca)" placeholder="Busca" />
                    <div>
                        <div ng-repeat="item in result| orderBy:'name'" ng-click="carregaWeatherBusca(item)">
                            {{item.name}}, {{item.tmp}}
                        </div>
                    </div>
                </li>
                <li class="list-group-item">
                    <select class="form-control" ng-options="item.name for item in locais" ng-model="obj_est">
                        <option value="">Selecione o Estado</option>
                    </select>
                </li>
                <li class="list-group-item">
                    <select class="form-control" ng-options="item.name for item in obj_est.cidades" ng-model="obj_cid">
                        <option value="">Selecione o Cidade (Tot: {{obj_est.cidades.length|| 0}})</option>
                    </select>
                </li>
                <li class="list-group-item">
                    <select class="form-control" ng-options="item.name for item in obj_cid.praias" ng-model="obj_pra"  ng-change="carregaWeather(obj_pra)">
                        <option value="">Selecione a Praia (Tot: {{obj_cid.praias.length|| 0}})</option>
                    </select>
                </li>

            </ul>
        </nav>
        <div class="over-layer"></div>
        <div class="container-fluid">
            <div class="row menu-top">

                <div class="col-md-12">
                    <div class="bt-toggle glyphicon glyphicon-align-justify" style="font-size: 1.5em;"  onclick="toggleMenu()"></div>
                    <div class="nomes-locais">
                        <div ng-show="objPraiaAtual" style="font-size: 1.2em;">{{objPraiaAtual.name| uppercase}}</div>
                    </div>
                    <div class="option">
                        <span class="glyphicon glyphicon-option-vertical"></span>
                    </div>
                </div>
                <div class="col-md-12 tab-menu">
                    <ul>
                        <li class="tab-menu-active"><a href="">Agora</a></li>
                        <li><a href="">Hora</a></li>
                        <li><a href="">Semanal</a></li>
                        <li><a href="">Mapas</a></li>
                    </ul>
                </div>


            </div>
            <div class="tab-content row">
                <div class="tab-content-in tab-content-animate">
                    <div class="col-md-12" ng-show="atualMarine">

                        <table class="table table-now">
                            <tr>
                                <td>
                                    <img src="resources/img/tamanho_onda.png"  />
                                    Tamanho Onda
                                </td>
                                <td>
                                    {{atualMarine.swellHeight_m}}m
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/direcao_onda.png"  />
                                    Direção Onda
                                </td>
                                <td>
                                    <span class="glyphicon glyphicon-arrow-up" style="transform:rotate({{atualMarine.swellDir}}deg)" title="{{atualMarine.swellDir16Point}}"></span>
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/periodo.png"  />
                                    Periodo
                                </td>
                                <td>
                                    {{atualMarine.swellPeriod_secs}}seg
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/potencia.png"  />
                                    Potência Onda
                                </td>
                                <td>
                                    {{atualMarine.WindGustKmph}}km/h
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/vento_temp.png"  />
                                    Vento Temp.
                                </td>
                                <td>
                                    {{atualMarine.WindChillC}}&#176;c
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/direcao_vento.png"  />
                                    Direção Vento
                                </td>
                                <td>
                                    <span class="glyphicon glyphicon-arrow-up" style="transform:rotate({{atualMarine.winddirDegree}}deg)" title="{{atualMarine.winddir16Point}}"></span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/temperatura.png"  />
                                    Temperatura
                                </td>
                                <td>
                                    {{atualMarine.tempC}}&#176;c
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/proba.png"  />
                                    Probabilidade
                                </td>
                                <td>
                                    {{atualWeather.chanceofrain}}%
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/chuva.png"  />
                                    Chuva
                                </td>
                                <td>
                                    {{atualWeather.precipMM}}mm
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/sol_cima.png"  />
                                    Nascer
                                </td>
                                <td>
                                    {{resultMarine.weather[0].astronomy[0].sunrise}}
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/sol_baixo.png"  />
                                    Pôr do Sol
                                </td>
                                <td>
                                    {{resultMarine.weather[0].astronomy[0].sunset}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="resources/img/lua.png"  />
                                    Lua
                                </td>
                                <td>Moon Icon</td>
                            </tr>
                        </table>
                    </div>
                    <div  ng-show="atualMarine">
                        <div class="col-md-offset-2 col-md-8" >
                            <table class="table table-hover table-porHora" >
                                <tr ng-repeat="item in resultWeather.weather[0].hourly" ng-click="openModal('porHora', $index)">
                                    <td>
                                        {{item.time| toHour}}
                                    </td>
                                    <td>
                                        <img src="{{item.weatherIconUrl[0].value}}" />
                                    </td>
                                    <td>
                                        {{item.lang_pt[0].value}}
                                    </td>
                                    <td>
                                        {{item.tempC}}&#176;
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div  ng-show="atualMarine">
                        <div class="col-md-8 col-md-offset-2">

                            <table class="table table-hover table-semanal">
                                <tr ng-repeat="item in resultMarine.weather" ng-click="openModal('semanal', $index)">
                                    <td>{{item.date| date:'d/M' }}<br />{{item.date| date:'EEE' }}</td>
                                    <td>
                                        <img src="{{item.hourly[indexAtual].weatherIconUrl[0].value}}" />
                                    </td>
                                    <td>
                                        {{resultWeather.weather[$index].hourly[indexAtual].lang_pt[0].value}}
                                    </td>
                                    <td>{{item.maxtempC}}&#176;/{{item.mintempC}}&#176;</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div  >
                        <div class="col-md-6">
                            <div class="compass">
                                <img src="resources/img/arrow_up_swell.png" style="transform: rotate({{atualMarine.swellDir}}deg)"/>
                                <img src="resources/img/arrow_up_wind.png" style="transform: rotate({{atualMarine.winddirDegree}}deg)"/>
                                <img src="resources/img/compass.png" />

                            </div>
                            <div class="legenda-direcoes">
                                <div style="background-color: #ffffff; border-radius: 5px;"></div>
                                <span>Vento</span>
                                <div style="background-color: #e1a400; border-radius: 5px;"></div>
                                <span>Onda</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div id="map"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row rodape">
                <div class="col-md-12">

                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Praianos2 -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-8292462256462069"
                         data-ad-slot="5297503230"
                         data-ad-format="link"></ins>
                    <script>
                                            (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>


                    <!--                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                                        Praianos 
                                        <ins class="adsbygoogle"
                                             style="display:inline-block;width:100%;height:50px"
                                             data-ad-client="ca-pub-8292462256462069"
                                             data-ad-slot="5075994036"></ins>
                                        <script>
                                                                (adsbygoogle = window.adsbygoogle || []).push({});
                                        </script>-->
                </div>
            </div>
        </div>


        <!--
        ------------MODAL START------------
        -->

        <div class="container-fluid modal-default modal-semanal" ng-show="modalShow.value == true && modalShow.modal == 'semanal'" >
            <div class="row">

                <div class="col-md-12 modal-head">

                    <div>
                        <span class="glyphicon glyphicon-arrow-left" ng-click="closeModal('semanal')"></span>
                    </div>
                    <div>
                        {{objPraiaAtual.name}}
                    </div>

                </div>
                <div class="col-md-12 modal-body-head">
                    <span class="glyphicon glyphicon-circle-arrow-left" ng-click="trocaIndexAtual(-1)" ng-hide="modalShow.index < 1"></span>
                    <span class="glyphicon glyphicon-circle-arrow-right" ng-click="trocaIndexAtual(1)" ng-hide="modalShow.index >= resultMarine.weather.length - 1" ></span>
                    <div>
                        {{resultMarine.weather[modalShow.index].date| date:'fullDate'}}
                    </div>
                    <div>
                        <img src="{{resultMarine.weather[modalShow.index].hourly[indexAtual].weatherIconUrl[0].value}}" />

                    </div>
                    <div>
                        {{resultWeather.weather[modalShow.index].hourly[indexAtual].lang_pt[0].value}}
                    </div>
                </div>
                <div class="col-md-12 modal-body">

                    <div class="modal-body-content">
                        <hr />

                        <div class="col-md-6">

                            <canvas chart-colours="colours" id="line" class="chart chart-bar" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series" chart-options="{scaleStepWidth: 0.5}" height="150"></canvas>
                        </div>
                        <div class="col-md-6">
                            <table class="table table-dia">
                                <tr>
                                    <td>
                                        <span class="glyphicon glyphicon-time" title="Horário" ></span>

                                    </td>
                                    <td>
                                        <img  src="resources/img/direcao_onda.png" title="Direção Onda" />

                                    </td>
                                    <td>
                                        <img  src="resources/img/tamanho_onda.png" title="Tamanho (M)" />
                                    </td>
                                    <td>
                                        <img  src="resources/img/potencia.png" title="Potência" />
                                    </td>
                                    <td>

                                        <img  src="resources/img/direcao_vento.png" title="Direção Vento" />

                                    </td>
                                    <td>
                                        <img  src="resources/img/direcao_vento.png" title="Velocidade (km/h)" />

                                    </td>

                                </tr>
                                <tr ng-repeat="item2 in resultMarine.weather[modalShow.index].hourly">
                                    <td>
                                        {{item2.time| toHour}}
                                    </td>
                                    <td>
                                        <span class="glyphicon glyphicon-arrow-up" style="transform:rotate({{item2.swellDir}}deg)" title="{{item2.swellDir16Point}}"></span>
                                    </td>
                                    <td>
                                        {{item2.swellHeight_m}}M
                                    </td>
                                    <td>
                                        {{item2.WindGustKmph}}
                                    </td>
                                    <td>
                                        <span class="glyphicon glyphicon-arrow-up" style="transform:rotate({{item2.winddirDegree}}deg)" title="{{item2.winddir16Point}}"></span>
                                    </td>
                                    <td>
                                        {{item2.windspeedKmph}}km/h
                                    </td>

                                </tr>
                            </table>
                        </div>
                    </div>

                </div>
                <div class="col-md-12 modal-foot">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:100%;height:90px;"
                         data-ad-client="ca-pub-8292462256462069"
                         data-ad-slot="5075994036"></ins>
                    <script>
                                                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

            </div>

        </div>

        <div class="container-fluid modal-default modal-semanal" ng-show="modalShow.value == true && modalShow.modal == 'porHora'" >
            <div class="row">

                <div class="col-md-12 modal-head">
                    <div>
                        <span class="glyphicon glyphicon-arrow-left" ng-click="closeModal()"></span>
                    </div>
                    <div>
                        {{objPraiaAtual.name}}
                    </div>

                </div>
                <div class="col-md-12 modal-body-head">
                    <span class="glyphicon glyphicon-circle-arrow-left" ng-click="trocaIndexAtual(-1)" ng-hide="modalShow.index < 1"></span>
                    <span class="glyphicon glyphicon-circle-arrow-right" ng-click="trocaIndexAtual(1)" ng-hide="modalShow.index >= resultMarine.weather[0].hourly.length - 1" ></span>
                    <div>
                        {{resultMarine.weather[0].hourly[modalShow.index].time| toHour}}
                    </div>
                    <div>
                        <img src="{{resultMarine.weather[0].hourly[modalShow.index].weatherIconUrl[0].value}}" />
                    </div>
                    <div>
                        {{resultMarine.weather[0].hourly[modalShow.index].lang_pt[0].value}}
                    </div>
                </div>
                <div class="col-md-12 modal-body">

                    <div class="modal-body-content">
                        <hr />
                        <table class="table">
                            <tr>
                                <td>Tamanho da Onda</td>
                                <td>
                                    {{resultMarine.weather[0].hourly[modalShow.index].swellHeight_m}}M
                                </td>
                            </tr>
                            <tr>
                                <td>Direção da Onda</td>
                                <td>
                                    {{resultMarine.weather[0].hourly[modalShow.index].swellDir16Point}}
                                </td>
                            </tr>
                            <tr>
                                <td>Periodo da Onda</td>
                                <td>
                                    {{resultMarine.weather[0].hourly[modalShow.index].swellPeriod_secs}}s
                                </td>
                            </tr>
                            <tr>
                                <td>Potência da Onda</td>
                                <td>
                                    {{resultMarine.weather[0].hourly[modalShow.index].WindGustKmph}}km/h
                                </td>
                            </tr>
                            <tr>
                                <td>Temperatura do Vento</td>
                                <td>
                                    {{resultMarine.weather[0].hourly[modalShow.index].WindChillC}}&#176;C
                                </td>
                            </tr>
                            <tr>
                                <td>Direção do Vento</td>
                                <td>
                                    {{resultMarine.weather[0].hourly[modalShow.index].winddir16Point}}
                                </td>
                            </tr>

                            <tr>
                                <td>Probabilidade de Chuva</td>
                                <td>
                                    {{resultWeather.weather[0].hourly[modalShow.index].chanceofrain}}%
                                </td>
                            </tr>
                            <tr>
                                <td>Chuva</td>
                                <td>
                                    {{resultWeather.weather[0].hourly[modalShow.index].precipMM}}mm
                                </td>
                            </tr>
                            <tr>
                                <td>Nascer do Sol</td>
                                <td>
                                    {{resultWeather.weather[0].astronomy[0].sunrise}}
                                </td>
                            </tr>
                            <tr>
                                <td>Pôr do Sol</td>
                                <td>
                                    {{resultWeather.weather[0].astronomy[0].sunset}}
                                </td>
                            </tr>

                        </table>

                    </div>

                </div>
                <div class="col-md-12 modal-foot">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:100%;height:90px;"
                         data-ad-client="ca-pub-8292462256462069"
                         data-ad-slot="5075994036"></ins>
                    <script>
                                                (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

            </div>
        </div>

        <!--
        ------------MODAL END------------
        -->

    </body>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTbk54QQ8sHvqi0QhZ0HAAoQa_pllO4Co&callback=initMap"
    async defer></script>
    <script src="resources/js/aux.js"></script>
</html>